os: osx
branches:
  except:
  - av/*
env:
  matrix:
  - JOB=AAA
  - JOB=BBB
  global:
  - PATH=$PATH:/usr/local/opt/qt5/bin
  - COVERITY_SCAN_PROJECT_NAME=TravisTest
  - COVERITY_SCAN_NOTIFICATION_EMAIL=martin@phonations.com
  - COVERITY_SCAN_BRANCH_PATTERN=coverity-matrix-without-addon
  - COVERITY_SCAN_BUILD_COMMAND=make
  - secure: ZgXEgOBy15tqNeMrl64NqRWYCNSSEYQfaKWsIloRiTePqRUL981tIqSIyPBdToPJgj5rRCMtRGiI6yD5DaGvY1aD0xg2f9TM5bSkM5hT0ZPc5CckAXm5iZs1G7mLzd4m6fc0NRrWgontvleTPF53g2P6DtzQMOrBcAAd92FxtBA=
#before_script:
#- brew update > /dev/null
#- brew install qt5
script:
#- qmake QtTest.pro
#- make
- echo "job:"
- echo $JOB
- echo "COVERITY_SCAN_TOKEN:"
- echo $COVERITY_SCAN_TOKEN
- echo "pouet"
- if [[ "$JOB" == AAA ]]; then curl -s https://scan.coverity.com/scripts/travisci_build_coverity_scan.sh | bash; fi
notifications:
  email: false
  slack:
    secure: ZYfEOfq2hgRNtb491t5Fsl1dw4vXfmBsHbOowZEFvICNopAddwwJehMZPZr3ygEsrvuR95W+vXrAsySNnbTg++SiTviNN8Md9zN/YAfgxY5IXL/QuCPfchgJ+w5oWKoq11BH5oL86EfjG8ZrgDMQ3WxOI2qcfoJ8TSXNB1dhxSE=
